<div class="form-input" style="opacity: 1; visibility: visible;">
  <div class="form-input__label-container">
    <label [for]="inputId" class="form-input__label">
      {{ label }}
      <span class="form-input__required" *ngIf="control?.hasError('required') && !control?.value">*</span>
    </label>
    <div class="form-input__status">
      <span class="form-input__success" title="Válido" *ngIf="isValid && control?.value">✓</span>
      <span class="form-input__error-icon" title="Error" *ngIf="isInvalid && control?.value">✕</span>
    </div>
  </div>
  
  <div class="form-input__wrapper">
    <input
      [id]="inputId"
      [type]="isPasswordVisible ? 'text' : type"
      [placeholder]="placeholder"
      [formControl]="formControl"
      class="form-input__field"
      [class.form-input__field--error]="isInvalid && control?.value"
      [class.form-input__field--valid]="isValid && control?.value"
      style="opacity: 1; visibility: visible;">
    
    <!-- SVG Eye icon para password fields -->
    <button 
      *ngIf="type === 'password'" 
      type="button"
      class="form-input__toggle-password"
      (click)="togglePasswordVisibility()"
      [attr.aria-label]="isPasswordVisible ? 'Ocultar contraseña' : 'Mostrar contraseña'">
      <!-- Eye icon SVG (ojo abierto) -->
      <svg *ngIf="!isPasswordVisible" viewBox="0 0 24 24" class="form-input__eye-icon">
        <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z" fill="currentColor"/>
      </svg>
      <!-- Eye closed icon SVG (ojo cerrado) -->
      <svg *ngIf="isPasswordVisible" viewBox="0 0 24 24" class="form-input__eye-icon">
        <path d="M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.81-2.9 3.69-4.75-1.72-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46A11.804 11.804 0 001 12c1.72 4.39 6 7.5 11 7.5 1.54 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm7.31-7.31l-.78.78 2.5 2.5c.9-1.23 1.71-2.72 2.25-4.35-1.72-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l.92.92c1.22-.29 2.53-.39 3.9-.1 5.52 0 10.6 3.41 12.56 8.2-.9 1.95-2.05 3.73-3.37 5.25z" fill="currentColor"/>
      </svg>
    </button>
  </div>
  
  <span class="form-input__error-message" role="alert" *ngIf="isInvalid && control?.value">
    {{ errorMessage }}
  </span>
</div>
