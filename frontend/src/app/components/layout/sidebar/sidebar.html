<aside class="sidebar" [class.sidebar--collapsed]="isCollapsed">
  <!-- Header del Viaje -->
  <div class="sidebar__trip-header" *ngIf="tripInfo">
    <button 
      class="sidebar__toggle" 
      (click)="toggleSidebar()"
      aria-label="Toggle sidebar"
      title="Colapsar/Expandir menú"
    >
      <span class="sidebar__toggle-icon">{{ isCollapsed ? '☰' : '✕' }}</span>
    </button>
    
    <div class="sidebar__trip-info" *ngIf="!isCollapsed">
      <h2 class="sidebar__trip-title">{{ tripInfo.title }}</h2>
      <p class="sidebar__trip-destination">{{ getDestination() }}</p>
      <p class="sidebar__trip-dates">{{ getFormattedDates() }}</p>
    </div>
  </div>

  <!-- Enlaces de Navegación -->
  <nav class="sidebar__nav" *ngIf="navLinks.length > 0">
    <ul class="sidebar__list">
      <li class="sidebar__item" *ngFor="let link of navLinks">
        <a 
          [routerLink]="link.route"
          routerLinkActive="sidebar__link--active"
          [routerLinkActiveOptions]="{ exact: true }"
          class="sidebar__link"
          [title]="link.label"
        >
          <img class="sidebar__icon" [src]="link.icon" [alt]="link.label">
          <span class="sidebar__label" *ngIf="!isCollapsed">{{ link.label }}</span>
          <span class="sidebar__badge" *ngIf="link.badge && link.badge > 0 && !isCollapsed">
            {{ link.badge }}
          </span>
        </a>
      </li>
    </ul>
  </nav>

  <!-- Footer con botón de Chat -->
  <div class="sidebar__footer">
    <button 
      class="sidebar__chat-button" 
      (click)="openChat()"
      aria-label="Abrir chat"
      title="Abrir chat del viaje"
    >
      <img class="sidebar__chat-icon" src="/assets/icons/sidebar/chat.svg" alt="Chat">
    </button>
  </div>
</aside>
