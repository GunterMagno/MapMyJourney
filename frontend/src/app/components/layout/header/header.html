<header class="header">
  <section class="header__left">
    <a routerLink="/">
      <img src="assets/logo.png" alt="MapMyJourney-Logo" class="header__logo-img">
    </a>
  </section>

  <section class="header__center">
    <ng-content select="[header-content]"></ng-content>
  </section>

  <section class="header__right">
    <button class="header__theme-btn" (click)="toggleTheme()" aria-label="Cambiar tema">
      {{ isDarkTheme ? 'â˜€ï¸' : 'ğŸŒ™' }}
    </button>

    <button class="header__hamburger" (click)="toggleMobileMenu()" aria-label="Abrir menÃº">
      <span class="header__hamburger-line"></span>
      <span class="header__hamburger-line"></span>
      <span class="header__hamburger-line"></span>
    </button>

    <button *ngIf="!isLoggedIn" class="header__btn header__btn--primary" (click)="login()">
      Iniciar SesiÃ³n
    </button>
    <button *ngIf="!isLoggedIn" class="header__btn header__btn--secondary" (click)="signup()">
      Registrarse
    </button>

    <button *ngIf="isLoggedIn && showMyTripsBtn" class="header__btn header__btn--primary" (click)="goToTrips()">
      Mis Viajes
    </button>
    <button *ngIf="isLoggedIn && showCreateTripBtn" class="header__btn header__btn--primary" (click)="createTrip()">
      Crear un viaje
    </button>

    <article *ngIf="isLoggedIn" class="header__profile">
      <span class="header__profile-avatar">ğŸ‘¤</span>
    </article>
  </section>

  <!-- Mobile Menu Overlay -->
  <nav class="header__mobile-menu" [class.header__mobile-menu--open]="isMobileMenuOpen">
    <article class="header__mobile-menu-header">
      <h2 class="header__mobile-menu-title">MenÃº</h2>
      <button class="header__mobile-menu-close" (click)="closeMobileMenu()" aria-label="Cerrar menÃº">Ã—</button>
    </article>
    
    <article class="header__mobile-menu-content">
      <button *ngIf="!isLoggedIn" class="header__mobile-menu-btn header__mobile-menu-btn--primary" (click)="login(); closeMobileMenu()">
        Iniciar SesiÃ³n
      </button>
      <button *ngIf="!isLoggedIn" class="header__mobile-menu-btn header__mobile-menu-btn--secondary" (click)="signup(); closeMobileMenu()">
        Registrarse
      </button>

      <button *ngIf="isLoggedIn && showMyTripsBtn" class="header__mobile-menu-btn header__mobile-menu-btn--primary" (click)="goToTrips(); closeMobileMenu()">
        Mis Viajes
      </button>
      <button *ngIf="isLoggedIn && showCreateTripBtn" class="header__mobile-menu-btn header__mobile-menu-btn--primary" (click)="createTrip(); closeMobileMenu()">
        Crear un viaje
      </button>
    </article>
  </nav>

  <!-- Overlay backdrop -->
  <article class="header__overlay" *ngIf="isMobileMenuOpen" (click)="closeMobileMenu()"></article>
</header>
