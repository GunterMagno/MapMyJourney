<app-header></app-header>

<section class="trips-page">
  <section class="trips-page__header">
    <h1>Mis Viajes</h1>
    <app-button
      label="Crear Nuevo Viaje"
      variant="primary"
      size="lg"
      (click)="createTrip()">
    </app-button>
  </section>

  @if (trips.length === 0) {
    <article class="trips-page__empty">
      <p>No tienes viajes registrados aún.</p>
      <app-button
        label="Crear tu primer viaje"
        variant="primary"
        (click)="createTrip()">
      </app-button>
    </article>
  } @else {
    <section class="trips-page__grid">
      @for (trip of trips; track trip.id) {
        <app-card
          [title]="trip.name"
          [description]="trip.destination + ' - ' + (trip.startDate | date: 'dd/MM/yyyy') + ' a ' + (trip.endDate | date: 'dd/MM/yyyy')"
          [image]="trip.image"
          variant="vertical"
          class="card--primary">
          <article class="trip-card__content">
            <section class="trip-card__expense">
              <span class="trip-card__label">Gastos totales:</span>
              <span class="trip-card__value">{{ trip.totalExpenses }}€</span>
            </section>
            <section class="trip-card__actions">
              <app-button
                label="Ver Detalles"
                variant="primary"
                size="sm"
                (click)="viewTrip(trip.id)">
              </app-button>
              <app-button
                label="Eliminar"
                variant="danger"
                size="sm"
                (click)="deleteTrip(trip.id)">
              </app-button>
            </section>
          </article>
        </app-card>
      }
    </section>
  }
</section>

<app-footer></app-footer>
